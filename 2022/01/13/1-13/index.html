<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>每日总结-1月13日 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="搜索进阶dfs&amp;bfs&amp;迭代加深&amp;A*算法 今日战况部分题目题解B题: Sticks题目传送门 题目 George took sticks of the same length and cut them randomly until all parts became at most 50 units long. Now he wants to return sticks t">
<meta property="og:type" content="article">
<meta property="og:title" content="每日总结-1月13日">
<meta property="og:url" content="http://example.com/2022/01/13/1-13/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="搜索进阶dfs&amp;bfs&amp;迭代加深&amp;A*算法 今日战况部分题目题解B题: Sticks题目传送门 题目 George took sticks of the same length and cut them randomly until all parts became at most 50 units long. Now he wants to return sticks t">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/01/13/1-13/J-1.JPG">
<meta property="og:image" content="http://example.com/2022/01/13/1-13/J-2.JPG">
<meta property="og:image" content="http://example.com/2022/01/13/1-13/J-3.JPG">
<meta property="article:published_time" content="2022-01-13T11:39:34.000Z">
<meta property="article:modified_time" content="2022-01-13T12:35:34.051Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="2021ACM寒假集训">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/01/13/1-13/J-1.JPG">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 6.0.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">玩转开发工具</a></li>
                        
                            <li><a  href="/categories/digital">玩转数码</a></li>
                        
                            <li><a  href="/categories/algorithm">算法学习</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="/xxxxx" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/2021ACM%E5%AF%92%E5%81%87%E9%9B%86%E8%AE%AD/" style="font-size: 20px;">2021ACM寒假集训</a> <a href="/tags/codeforces-practice/" style="font-size: 10px;">codeforces-practice</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.csdn.net/baidu_21483933">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/eb37ef89c746/latest_articles">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱动漫,爱游戏,爱编程,爱运动,爱的太多了!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">玩转开发工具</a></li>
                
                    <li><a href="/categories/digital">玩转数码</a></li>
                
                    <li><a href="/categories/algorithm">算法学习</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="/xxxxx" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap"><article id="post-1-13" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2022/01/13/1-13/" class="article-date">
      <time datetime="2022-01-13T11:39:34.000Z" itemprop="datePublished">2022-01-13</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      每日总结-1月13日
    </h1>
  


      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/2021ACM%E5%AF%92%E5%81%87%E9%9B%86%E8%AE%AD/" rel="tag">2021ACM寒假集训</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="搜索进阶"><a href="#搜索进阶" class="headerlink" title="搜索进阶"></a>搜索进阶</h2><p>dfs&amp;bfs&amp;迭代加深&amp;A*算法</p>
<h3 id="今日战况"><a href="#今日战况" class="headerlink" title="今日战况"></a>今日战况</h3><h3 id="部分题目题解"><a href="#部分题目题解" class="headerlink" title="部分题目题解"></a>部分题目题解</h3><h4 id="B题-Sticks"><a href="#B题-Sticks" class="headerlink" title="B题: Sticks"></a>B题: Sticks</h4><p><a target="_blank" rel="noopener" href="http://poj.org/problem?id=1011">题目传送门</a></p>
<h5 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h5><blockquote>
<p>George took sticks of the same length and cut them randomly until all parts became at most 50 units long. Now he wants to return sticks to the original state, but he forgot how many sticks he had originally and how long they were originally. Please help him and design a program which computes the smallest possible original length of those sticks. All lengths expressed in units are integers greater than zero.</p>
<p><strong>Input</strong></p>
<p>The input contains blocks of 2 lines. The first line contains the number of sticks parts after cutting, there are at most 64 sticks. The second line contains the lengths of those parts separated by the space. The last line of the file contains zero.</p>
<p><strong>Output</strong></p>
<p>The output should contains the smallest possible length of original sticks, one per line.</p>
<p><strong>Sample Input</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">5 2 1 5 2 1 5 2 1</span><br><span class="line">4</span><br><span class="line">1 2 3 4</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>Sample Output</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<h5 id="题目大意"><a href="#题目大意" class="headerlink" title="题目大意"></a>题目大意</h5><p>大致就是给你n根长度小于50的木棍，要把他们拼成若干根相同长度的原始木棍，求这个长度的最小值</p>
<h5 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h5><p>n&lt;65，考虑从小到大枚举每一种可能的原始木棍长度len，显然，len应该是所有木棍长度总和sum的约数(长度只能为整数），并且原始木棍的根数就应该是sum/len，然后对于每一种len，我们依次搜索每根原始木棍由哪些分散的木棍拼接而成即可.</p>
<p><strong>加上各种优化</strong></p>
<ol>
<li><p>优化搜索顺序</p>
<p>考虑到长度短的木棍比起长度长的木棍来说，拼接更为灵活，因此对木棍长度进行排序，从长到短搜索</p>
</li>
<li><p>排除等效冗余</p>
<ul>
<li>先拼上 x 和先拼上 y 是等效的，只需要搜索一次这种情况</li>
<li>记录最近一次尝试拼接的小木棍的长度，如果分支搜索失败的话，不再尝试其他相同长度的木棍（相同长度的木棍都是等效的，该分支失败意味着所有相同长度的木棍必定会拼接失败）</li>
<li>如果在拼接某个原始木棍时拼接第一根木棍的搜索分支就以失败返回，直接判定该分支无解，如果拼接第一根木棍就失败了的话，说明这根木棍拼不成长度为len的原始木棍，而如果继续搜索其他长度的小木棍的话，为了拼成所有的原始木棍，这根小木棍在后面是必须要用到的，如果它拼接失败，拼在其他原始木棍上也一定失败，不用继续往下搜索，因此可以直接判定无解</li>
</ul>
</li>
<li><p>其他优化</p>
<p>使用二分查找的方式来寻找解(代码中未使用)</p>
</li>
</ol>
<h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Inf 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXX=<span class="number">105</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">0.0000001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,a[MAXX],st,en,num,lenn;</span><br><span class="line"><span class="keyword">bool</span> vis[MAXX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> now,<span class="keyword">int</span> len,<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(now&gt;num) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">if</span>(len==lenn) <span class="keyword">return</span> <span class="built_in">dfs</span>(now+<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">int</span> temp=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=id+<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!vis[i]&amp;&amp;len+a[i]&lt;=lenn&amp;&amp;a[i]!=temp)&#123;</span><br><span class="line">			vis[i]=<span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">dfs</span>(now,len+a[i],id))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			temp=a[i];</span><br><span class="line">			vis[i]=<span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">if</span>(len==<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> jj,<span class="keyword">int</span> kk)</span></span>&#123;<span class="keyword">return</span> jj&gt;kk;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve_it</span><span class="params">()</span></span>&#123;</span><br><span class="line">	st=<span class="number">0</span>;en=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">		st=<span class="built_in">max</span>(st,a[i]);</span><br><span class="line">		en+=a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(a+<span class="number">1</span>,a+n+<span class="number">1</span>,cmp);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> ans;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=st;i&lt;=en;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(en%i) <span class="keyword">continue</span>;</span><br><span class="line">		num=en/i;lenn=i;</span><br><span class="line">		ans=i;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;++j)</span><br><span class="line">			vis[j]=<span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>)) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//	int t;scanf(&quot;%d&quot;,&amp;t);</span></span><br><span class="line"><span class="comment">//	while(t--)</span></span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)&amp;&amp;n)</span><br><span class="line">		<span class="built_in">solve_it</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="G题-Addition-Chains"><a href="#G题-Addition-Chains" class="headerlink" title="G题: Addition Chains"></a>G题: Addition Chains</h4><p><a target="_blank" rel="noopener" href="http://poj.org/problem?id=2248">题目传送门</a></p>
<h5 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h5><blockquote>
<p>An addition chain for n is an integer sequence with the following four properties:<br>a_0 = 1<br>a_m = n<br>a_0 &lt; a_1 &lt; a_2 &lt; … &lt; a_m-1 &lt; a_m<br>For each k (1&lt;=k&lt;=m) there exist two (not necessarily different) integers i and j (0&lt;=i, j&lt;=k-1) with a_k=a_i+a_j<br>You are given an integer n. Your job is to construct an addition chain for n with minimal length. If there is more than one such sequence, any one is acceptable.<br>For example, &lt;1,2,3,5&gt; and &lt;1,2,4,5&gt; are both valid solutions when you are asked for an addition chain for 5.</p>
<p><strong>Input</strong></p>
<p>The input will contain one or more test cases. Each test case consists of one line containing one integer n (1&lt;=n&lt;=100). Input is terminated by a value of zero (0) for n.</p>
<p><strong>Output</strong></p>
<p>For each test case, print one line containing the required integer sequence. Separate the numbers by one blank.<br>Hint: The problem is a little time-critical, so use proper break conditions where necessary to reduce the search space.</p>
<p><strong>Sample Input</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">7</span><br><span class="line">12</span><br><span class="line">15</span><br><span class="line">77</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>Sample Output</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 2 4 5</span><br><span class="line">1 2 4 6 7</span><br><span class="line">1 2 4 8 12</span><br><span class="line">1 2 4 5 10 15</span><br><span class="line">1 2 4 8 9 17 34 68 77</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<h5 id="题目大意-1"><a href="#题目大意-1" class="headerlink" title="题目大意"></a>题目大意</h5><p>有一个严格递增的序列，a_0=1，且对于每一个k(k&gt;=1)，存在两个可以相同也可以不同的数i,j(0&lt;=i,j&lt;=k-1)，使得a_k=a_i+a_j</p>
<p>输入一个数n，求能得到数字n的最短的该序列</p>
<h5 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h5><p>使用迭代加深的思路，逐步加深搜索的层数，再利用贪心，每次都倒序进行搜索，即从k-1搜索到1，直到得到结果即为答案</p>
<h5 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Inf 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXX=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">0.0000001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,a[MAXX],depth;</span><br><span class="line"><span class="keyword">bool</span> has;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;MAXX;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==n)&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a[i]);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> now)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(now&gt;depth)</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=now<span class="number">-1</span>;i&gt;=<span class="number">1</span>;--i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&gt;=<span class="number">1</span>;--j)&#123;</span><br><span class="line">			a[now]=a[i]+a[j];</span><br><span class="line">			<span class="keyword">if</span>(a[now]&lt;=a[now<span class="number">-1</span>]) <span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">if</span>(a[now]==n)&#123;</span><br><span class="line">				<span class="built_in">output</span>();</span><br><span class="line">				has=<span class="literal">true</span>;<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">dfs</span>(now+<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">if</span>(has) <span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(has) <span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve_it</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="built_in">output</span>();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	has=<span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=<span class="number">12</span>;++i)&#123;</span><br><span class="line">		depth=i;</span><br><span class="line">		<span class="built_in">dfs</span>(<span class="number">2</span>);</span><br><span class="line">		<span class="keyword">if</span>(has) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//	int t;scanf(&quot;%d&quot;,&amp;t);</span></span><br><span class="line"><span class="comment">//	while(t--)</span></span><br><span class="line">	a[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n))&#123;</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		<span class="built_in">solve_it</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="H题-打开灯泡-Switch-the-Lamp-On"><a href="#H题-打开灯泡-Switch-the-Lamp-On" class="headerlink" title="H题: 打开灯泡 Switch the Lamp On"></a>H题: 打开灯泡 Switch the Lamp On</h4><p><a target="_blank" rel="noopener" href="https://loj.ac/p/2632">题目传送门</a></p>
<p>题目就不放了，比较简单，就是一个bfs求最短路，不过是双向队列的bfs，和用优先队列一样的，感觉就是建图有点麻烦</p>
<p>就直接放代码了</p>
<h5 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Inf 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXX=<span class="number">505</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">0.0000001</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rode</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> tox,toy,len;</span><br><span class="line">	<span class="keyword">bool</span> vis;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x,y,len;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> n,m,n1,m1,ans;</span><br><span class="line"><span class="keyword">char</span> s[MAXX][MAXX];</span><br><span class="line">vector&lt;rode&gt; ro[MAXX][MAXX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	deque&lt;point&gt; qq;</span><br><span class="line">	point pt;pt.x=<span class="number">1</span>;pt.y=<span class="number">1</span>;pt.len=<span class="number">0</span>;</span><br><span class="line">	qq.<span class="built_in">emplace_front</span>(pt);</span><br><span class="line">	<span class="keyword">while</span>(!qq.<span class="built_in">empty</span>())&#123;</span><br><span class="line">		point pp=qq.<span class="built_in">front</span>();qq.<span class="built_in">pop_front</span>();</span><br><span class="line">		<span class="keyword">if</span>(pp.x==n1&amp;&amp;pp.y==m1)&#123;</span><br><span class="line">			ans=pp.len;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> si=ro[pp.x][pp.y].<span class="built_in">size</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;si;++i)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!ro[pp.x][pp.y][i].vis)&#123;</span><br><span class="line">				ro[pp.x][pp.y][i].vis=<span class="literal">true</span>;</span><br><span class="line">				pt.x=ro[pp.x][pp.y][i].tox;</span><br><span class="line">				pt.y=ro[pp.x][pp.y][i].toy;</span><br><span class="line">				pt.len=pp.len+ro[pp.x][pp.y][i].len;</span><br><span class="line">				<span class="keyword">if</span>(ro[pp.x][pp.y][i].len==<span class="number">0</span>)</span><br><span class="line">					qq.<span class="built_in">emplace_front</span>(pt);</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					qq.<span class="built_in">emplace_back</span>(pt);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve_it</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">	n1=n+<span class="number">1</span>;m1=m+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="built_in">getchar</span>();</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s[i]+<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	ans=Inf;</span><br><span class="line">	rode temp;temp.vis=<span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;++j)&#123;</span><br><span class="line">			temp.len=(s[i][j]==<span class="string">&#x27;\\&#x27;</span>);</span><br><span class="line">			temp.tox=i;temp.toy=j+<span class="number">1</span>;</span><br><span class="line">			ro[i+<span class="number">1</span>][j].<span class="built_in">emplace_back</span>(temp);</span><br><span class="line">			temp.tox=i+<span class="number">1</span>;temp.toy=j;</span><br><span class="line">			ro[i][j+<span class="number">1</span>].<span class="built_in">emplace_back</span>(temp);</span><br><span class="line">			temp.len=<span class="number">1</span>-temp.len;</span><br><span class="line">			temp.tox=i+<span class="number">1</span>;temp.toy=j+<span class="number">1</span>;</span><br><span class="line">			ro[i][j].<span class="built_in">emplace_back</span>(temp);</span><br><span class="line">			temp.tox=i;temp.toy=j;</span><br><span class="line">			ro[i+<span class="number">1</span>][j+<span class="number">1</span>].<span class="built_in">emplace_back</span>(temp);</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">bfs</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(ans==Inf)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;NO SOLUTION\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//	int t;scanf(&quot;%d&quot;,&amp;t);</span></span><br><span class="line"><span class="comment">//	while(t--)</span></span><br><span class="line">		<span class="built_in">solve_it</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="J题-Bloxorz-l"><a href="#J题-Bloxorz-l" class="headerlink" title="J题: Bloxorz l"></a>J题: Bloxorz l</h4><p><a target="_blank" rel="noopener" href="http://poj.org/problem?id=3322">题目传送门</a></p>
<p>一个比较繁琐的bfs求最短路题目</p>
<h5 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h5><blockquote>
<p>Little Tom loves playing games. One day he downloads a little computer game called ‘Bloxorz’ which makes him excited. It’s a game about rolling a box to a specific position on a special plane. Precisely, the plane, which is composed of several unit cells, is a rectangle shaped area. And the box, consisting of two perfectly aligned unit cube, may either lies down and occupies two neighbouring cells or stands up and occupies one single cell. One may move the box by picking one of the four edges of the box on the ground and rolling the box 90 degrees around that edge, which is counted as one move. There are three kinds of cells, rigid cells, easily broken cells and empty cells. A rigid cell can support full weight of the box, so it can be either one of the two cells that the box lies on or the cell that the box fully stands on. A easily broken cells can only support half the weight of the box, so it cannot be the only cell that the box stands on. An empty cell cannot support anything, so there cannot be any part of the box on that cell. The target of the game is to roll the box standing onto the only target cell on the plane with minimum moves.</p>
<p><img src="/2022/01/13/1-13/J-1.JPG" alt="The box stands on a single cell"></p>
<p>The box stands on a single cell ↑</p>
<p><img src="/2022/01/13/1-13/J-2.JPG" alt="The box lies on two neighbouring cells, horizontally"></p>
<p>The box lies on two neighbouring cells, horizontally ↑</p>
<p><img src="/2022/01/13/1-13/J-3.JPG" alt="The box lies on two neighbouring cells, vertically"></p>
<p>The box lies on two neighbouring cells, vertically ↑</p>
<p>After Little Tom passes several stages of the game, he finds it much harder than he expected. So he turns to your help.</p>
<p><strong>Input</strong></p>
<p>Input contains multiple test cases. Each test case is one single stage of the game. It starts with two integers <em>R</em> and <em>C</em>(3 ≤ R, C ≤ 500) which stands for number of rows and columns of the plane. That follows the plane, which contains <em>R</em> lines and <em>C</em> characters for each line, with ‘O’ (Oh) for target cell, ‘X’ for initial position of the box, ‘.’ for a rigid cell, ‘#’ for a empty cell and ‘E’ for a easily broken cell. A test cases starts with two zeros ends the input.</p>
<p>It guarantees that</p>
<ul>
<li>There’s only one ‘O’ in a plane.</li>
<li>There’s either one ‘X’ or neighbouring two ‘X’s in a plane.</li>
<li>The first(and last) row(and column) must be ‘#’(empty cell).</li>
<li>Cells covered by ‘O’ and ‘X’ are all rigid cells.</li>
</ul>
<p><strong>Output</strong></p>
<p>For each test cases output one line with the minimum number of moves or “Impossible” (without quote) when there’s no way to achieve the target cell. </p>
<p><strong>Sample Input</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7 7</span><br><span class="line">#######</span><br><span class="line">#..X###</span><br><span class="line">#..##O#</span><br><span class="line">#....E#</span><br><span class="line">#....E#</span><br><span class="line">#.....#</span><br><span class="line">#######</span><br><span class="line">0 0</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>Sample Output</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<h5 id="题目大意-2"><a href="#题目大意-2" class="headerlink" title="题目大意"></a>题目大意</h5><p>有一个 1 * 1 * 2 大小的长方体，在一个棋盘上，有初始位置，有一个目标位置，问走几步能到达目标位置，棋盘上有几种方块地皮</p>
<ul>
<li>‘.’ 坚硬的地面，可以立在上面</li>
<li>‘E’ 易碎的(玻璃?)，不能立在上面，但是可以躺一半在上面</li>
<li>‘#’ 上面不能存在东西，(虚空?)</li>
<li>‘X’ 起始位置，可能是平躺的</li>
<li>‘O’ 目标位置，只能是立着的</li>
</ul>
<p>输入棋盘大小和整个棋盘，输出最少需要走几步能到目标位置。</p>
<h5 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h5><p>从起点开始bfs，和普通的dfs相比，就是麻烦，需要记录长方体的位置和状态（立着，横着平躺，竖着平躺），每个状态对应的下一步还都不一样。</p>
<h5 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Inf=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXX=<span class="number">505</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">0.0000001</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x,y,kind;<span class="comment">//0:立起来 1:竖着 2:横着 </span></span><br><span class="line">	<span class="built_in">point</span>(<span class="keyword">int</span> xx=<span class="number">0</span>,<span class="keyword">int</span> yy=<span class="number">0</span>,<span class="keyword">int</span> kk=<span class="number">0</span>):<span class="built_in">x</span>(xx),<span class="built_in">y</span>(yy),<span class="built_in">kind</span>(kk)&#123;&#125;</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(point jj,point kk)&#123;<span class="keyword">return</span> jj.kind&lt;kk.kind;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PP</span>&#123;</span></span><br><span class="line">	point pos;</span><br><span class="line">	<span class="keyword">int</span> len;</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(PP jj,PP kk)&#123;</span><br><span class="line">		<span class="keyword">return</span> jj.len&gt;kk.len;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> n,m,ans;</span><br><span class="line"><span class="keyword">char</span> a[MAXX][MAXX],vis[MAXX][MAXX][<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> enx=<span class="number">0</span>,eny=<span class="number">0</span>;</span><br><span class="line">	queue&lt;PP&gt; pq;</span><br><span class="line">	point p;PP pp;</span><br><span class="line">	pp.len=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">bool</span> findst=<span class="literal">false</span>,finden=<span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;++j)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!findst&amp;&amp;a[i][j]==<span class="string">&#x27;X&#x27;</span>)&#123;</span><br><span class="line">				findst=<span class="literal">true</span>;</span><br><span class="line">				pp.pos.x=i;pp.pos.y=j;</span><br><span class="line">				<span class="keyword">bool</span> two=<span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">if</span>(a[i+<span class="number">1</span>][j]==<span class="string">&#x27;X&#x27;</span>)&#123;</span><br><span class="line">					two=<span class="literal">true</span>;</span><br><span class="line">					pp.pos.kind=<span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(a[i][j+<span class="number">1</span>]==<span class="string">&#x27;X&#x27;</span>)&#123;</span><br><span class="line">					two=<span class="literal">true</span>;</span><br><span class="line">					pp.pos.kind=<span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(!two)&#123;</span><br><span class="line">					pp.pos.kind=<span class="number">0</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				vis[pp.pos.x][pp.pos.y][pp.pos.kind]=<span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(!finden&amp;&amp;a[i][j]==<span class="string">&#x27;O&#x27;</span>)&#123;</span><br><span class="line">				finden=<span class="literal">true</span>;</span><br><span class="line">				enx=i;eny=j;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(findst&amp;&amp;finden) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//bfs</span></span><br><span class="line">	<span class="keyword">while</span>(!pq.<span class="built_in">empty</span>())&#123;</span><br><span class="line">		PP now=pq.<span class="built_in">front</span>();pq.<span class="built_in">pop</span>();</span><br><span class="line">		<span class="keyword">int</span> i=now.pos.x,j=now.pos.y;</span><br><span class="line">		<span class="keyword">if</span>(now.pos.kind==<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(now.pos.x==enx&amp;&amp;now.pos.y==eny)&#123;</span><br><span class="line">				ans=now.len;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(i<span class="number">-2</span>&gt;=<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">if</span>(a[i<span class="number">-1</span>][j]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i<span class="number">-2</span>][j]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">1</span>;p.x=i<span class="number">-2</span>;p.y=j;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(i+<span class="number">2</span>&lt;=n)</span><br><span class="line">			<span class="keyword">if</span>(a[i+<span class="number">1</span>][j]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i+<span class="number">2</span>][j]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">1</span>;p.x=i+<span class="number">1</span>;p.y=j;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j<span class="number">-2</span>&gt;=<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">if</span>(a[i][j<span class="number">-1</span>]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i][j<span class="number">-2</span>]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">2</span>;p.x=i;p.y=j<span class="number">-2</span>;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j+<span class="number">2</span>&lt;=m)</span><br><span class="line">			<span class="keyword">if</span>(a[i][j+<span class="number">1</span>]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i][j+<span class="number">2</span>]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">2</span>;p.x=i;p.y=j+<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(now.pos.kind==<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i<span class="number">-1</span>&gt;=<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">if</span>(a[i<span class="number">-1</span>][j]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i<span class="number">-1</span>][j]!=<span class="string">&#x27;E&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">0</span>;p.x=i<span class="number">-1</span>;p.y=j;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(i+<span class="number">2</span>&lt;=n)</span><br><span class="line">			<span class="keyword">if</span>(a[i+<span class="number">2</span>][j]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i+<span class="number">2</span>][j]!=<span class="string">&#x27;E&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">0</span>;p.x=i+<span class="number">2</span>;p.y=j;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j<span class="number">-1</span>&gt;=<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">if</span>(a[i][j<span class="number">-1</span>]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i+<span class="number">1</span>][j<span class="number">-1</span>]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">1</span>;p.x=i;p.y=j<span class="number">-1</span>;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j+<span class="number">1</span>&lt;=m)</span><br><span class="line">			<span class="keyword">if</span>(a[i][j+<span class="number">1</span>]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i+<span class="number">1</span>][j+<span class="number">1</span>]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">1</span>;p.x=i;p.y=j+<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(now.pos.kind==<span class="number">2</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i<span class="number">-1</span>&gt;=<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">if</span>(a[i<span class="number">-1</span>][j]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i<span class="number">-1</span>][j+<span class="number">1</span>]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">2</span>;p.x=i<span class="number">-1</span>;p.y=j;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(i+<span class="number">1</span>&lt;=n)</span><br><span class="line">			<span class="keyword">if</span>(a[i+<span class="number">1</span>][j]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i+<span class="number">1</span>][j+<span class="number">1</span>]!=<span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">2</span>;p.x=i+<span class="number">1</span>;p.y=j;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j<span class="number">-1</span>&gt;=<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">if</span>(a[i][j<span class="number">-1</span>]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i][j<span class="number">-1</span>]!=<span class="string">&#x27;E&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">0</span>;p.x=i;p.y=j<span class="number">-1</span>;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j+<span class="number">2</span>&lt;=m)</span><br><span class="line">			<span class="keyword">if</span>(a[i][j+<span class="number">2</span>]!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;a[i][j+<span class="number">2</span>]!=<span class="string">&#x27;E&#x27;</span>)&#123;</span><br><span class="line">				p.kind=<span class="number">0</span>;p.x=i;p.y=j+<span class="number">2</span>;</span><br><span class="line">				<span class="keyword">if</span>(!vis[p.x][p.y][p.kind])&#123;</span><br><span class="line">					vis[p.x][p.y][p.kind]=<span class="literal">true</span>;</span><br><span class="line">					pp.pos=p;pp.len=now.len+<span class="number">1</span>;</span><br><span class="line">					pq.<span class="built_in">push</span>(pp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve_it</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="built_in">getchar</span>();</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a[i]+<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	ans=<span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">bfs</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(ans==<span class="number">-1</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Impossible\n&quot;</span>);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;++j)</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;=<span class="number">2</span>;++k)</span><br><span class="line">				vis[i][j][k]=<span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//	int t;scanf(&quot;%d&quot;,&amp;t);</span></span><br><span class="line"><span class="comment">//	while(t--)</span></span><br><span class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m))&#123;</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">0</span>&amp;&amp;m==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		<span class="built_in">solve_it</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>搜索的优化还是比较难的，优化永无止境。</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a  href="/2022/01/13/1-13/">每日总结-1月13日</a></p>
        <p><span>文章作者:</span><a  href="/" title="访问  的个人博客"></a></p>
        <p><span>发布时间:</span>2022年01月13日 - 19时39分</p>
        <p><span>最后更新:</span>2022年01月13日 - 20时35分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2022/01/13/1-13/" title="每日总结-1月13日">http://example.com/2022/01/13/1-13/</a>
            <span class="copy-path" data-clipboard-text="原文: http://example.com/2022/01/13/1-13/　　作者: " title=""></span>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
  
    <a  href="/2022/01/12/1-12/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">每日总结-1月12日</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>


  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E8%BF%9B%E9%98%B6"><span class="toc-number">1.</span> <span class="toc-text">搜索进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E6%97%A5%E6%88%98%E5%86%B5"><span class="toc-number">1.1.</span> <span class="toc-text">今日战况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E9%A2%98%E7%9B%AE%E9%A2%98%E8%A7%A3"><span class="toc-number">1.2.</span> <span class="toc-text">部分题目题解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E9%A2%98-Sticks"><span class="toc-number">1.2.1.</span> <span class="toc-text">B题: Sticks</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#G%E9%A2%98-Addition-Chains"><span class="toc-number">1.2.2.</span> <span class="toc-text">G题: Addition Chains</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-1"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-1"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-1"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#H%E9%A2%98-%E6%89%93%E5%BC%80%E7%81%AF%E6%B3%A1-Switch-the-Lamp-On"><span class="toc-number">1.2.3.</span> <span class="toc-text">H题: 打开灯泡 Switch the Lamp On</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-2"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#J%E9%A2%98-Bloxorz-l"><span class="toc-number">1.2.4.</span> <span class="toc-text">J题: Bloxorz l</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-2"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%A4%A7%E6%84%8F-2"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">题目大意</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-2"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-3"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol>
</div>
<style>
    .left-col .switch-btn {
        display: none;
    }
    .left-col .switch-area {
        display: none;
    }
</style>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";
    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
            $(".switch-btn, .switch-area").fadeOut(300);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
            $(".switch-btn, .switch-area").fadeIn(500);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
        $(".switch-btn, .switch-area").show();
    }
</script>




<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <section class="changyan" id="comments">
  <!--<div id="uyan_frame"></div>-->
  <div id="SOHUCS"></div>
  <script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js"></script>
  <script type="text/javascript">
    window.changyan.api.config({
      appid: 'xxxx',
      conf: 'xxxxxxxxx'
    });
  </script>
</section>
    



    <div class="scroll" id="post-nav-button">
        
            <a  href="/" title="回到主页"><i class="fa fa-home"></i></a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a  href="/2022/01/12/1-12/" title="下一篇: 每日总结-1月12日">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/01/13/1-13/">每日总结-1月13日</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/12/1-12/">每日总结-1月12日</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/11/cfRound-764-Div-3-Summary/">cfRound#764(Div.3)Summary</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/11/1-11/">每日总结-1月11日</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/10/1-10/">每日总结-1月10日</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/08/1-8/">每日总结-1月8日</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/08/1-7/">每日总结:1月7日</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/08/hello-world/">Hello World</a></li></ul>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

    <script>
        $(".post-list").addClass("toc-article");
        // $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#toc, .switch-btn, .switch-area").toggle();
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
                $(".switch-btn, .switch-area").fadeToggle(300);
            }
        })
    </script>




    <script>
        
    </script>

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2022 John Doe
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/maochunguang" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>